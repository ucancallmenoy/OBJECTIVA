<body>
  <div class="quiz-container">
    <!-- Score Section -->
    <div class="score-header" *ngIf="showScore">
      <h2>Your Score</h2>
      <p class="score">{{ score }}/{{ quizData.length }} questions correctly answered</p>
      <p class="feedback">{{higher}}</p>
      <p class="feedback">{{feedback}}</p>
      <button (click)="resetQuiz()">Restart Quiz</button>
      <button (click)="backtoQuiz()">Back to Dashboard</button>
    </div>
    
    <!-- Quiz Section -->
    <div class="quiz-header" *ngIf="!showScore">
      <div class="question-progress">
        Question {{ currentQuiz + 1 }} of {{ quizData.length }}
      </div>
      
      <h2>{{ quizData[currentQuiz].question }}</h2>
      <pre *ngIf="quizData[currentQuiz].code">{{ quizData[currentQuiz].code }}</pre>
      
      <div class="answers-grid">
        <div 
          class="answer-container" 
          *ngFor="let option of answerOptions"
          [ngClass]="{
            'correct': showExplanation && option.id === quizData[currentQuiz].correct,
            'incorrect': showExplanation && selectedAnswer === option.id && option.id !== quizData[currentQuiz].correct
          }"
        >
          <input
            type="radio"
            name="answer"
            [id]="option.id"
            [(ngModel)]="selectedAnswer"
            [value]="option.id"
            [disabled]="hasSubmitted"
          />
          <label [for]="option.id">{{ option.text }}</label>
        </div>
      </div>

      <div class="explanation" *ngIf="showExplanation">
        <p [ngClass]="{'correct-text': isAnswerCorrect, 'incorrect-text': !isAnswerCorrect}">
          {{ isAnswerCorrect ? 'Correct!' : 'Incorrect!' }}
        </p>
        <p>{{ quizData[currentQuiz].explanation }}</p>
      </div>

      <div class="button-container">
        <button 
          *ngIf="!hasSubmitted" 
          [disabled]="!selectedAnswer" 
          (click)="onSubmit()" 
          class="submit-btn">
          Submit
        </button>
        <button 
          *ngIf="hasSubmitted" 
          (click)="nextQuestion()" 
          class="next-btn">
          {{ currentQuiz === quizData.length - 1 ? 'Finish Quiz' : 'Next Question' }}
        </button>
      </div>
    </div>
  </div>
</body>